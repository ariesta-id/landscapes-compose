<%=
    form_with(
        model: [@team, @extent],
        html: {
        data: {
            controller: "form",
            action: "ajax:error->form#onError",
        }
        }
    ) do |form|
%>
    <div class="form-group">
        <%= form.label :name %>
        <span data-form-target="error" data-field="name"></span>
        <%= form.text_field :name, class: 'form-control', data: { "form-target": "field", field: "name" }, placeholder: "Extent name" %>
    </div>

    <div class="form-group" id="extent_0">
        <%= form.label :value %>
        <span data-form-target="error" data-field="extent"></span>
        <%= form.text_field :value, class: 'form-control', data: { "form-target": "field", field: "value" }, value: "-49469.089243, 6570068.329224, 55641.379277, 6669018.450996" %>
        <span id="zoom" class="badge"></span>    
        <div id="map" style="width: 100%; height: 400px; margin-bottom: 10px;"></div>
        <div id="guide" style="margin-bottom: 10px"></div>
    </div>



    <%= form.submit "Save", class: "btn btn-primary" %>
    <%= link_to "Cancel", [@team, :extents], class: "btn btn-secondary" %>

<% end %>

<script>
    document.addEventListener("turbolinks:load", () => mapUpdate('extent_0'));
</script>
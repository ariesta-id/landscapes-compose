<div class="card">
  <div class="card-header d-flex align-items-center justify-content-between">
    Invite a user
  </div>
  <div class="card-body" data-controller="form autocomplete" data-autocomplete-url-value="/users/autocomplete">
    <%= form_with(
      model: [@team, @membership],
      html: {
        data: {
          controller: "form autocomplete",
          action: "ajax:error->form#onError",
        }
      }
    ) do |form| %>
      <div class="form-group">
        <%= form.label :email, "Email address" %>
        <span data-form-target="error" data-field="email"></span>
        <%= form.email_field :email, class: 'form-control', data: { "form-target": "field", "autocomplete-target": "field" }, required: true %>
        
        <!-- Suggestions dropdown -->
        <div class="autocomplete-suggestions" data-autocomplete-target="suggestions"></div>
      </div>

      <%= form.submit "Invite", class: "btn btn-primary" %>
      <%= link_to "Cancel", [@team, :memberships], class: "btn btn-secondary" %>
    <% end %>
  </div>
</div>
